# 前端开发文档

## 一、总体说明

**项目名称：** 智能语音 AI-Agent 开放平台  
**角色定位：**  
- **普通用户交互页面（语音优先）：**  
  - 用户通过点击录音按钮启动和停止语音采集，系统利用 Web Speech API 将语音转为文字。
  - 系统在关键操作前，会通过语音复述操作摘要（例如：“您将转账 1 ETH 给 Alice，请说‘确认’或‘取消’”），等待用户语音确认后继续操作。
  - 屏幕仅作为辅助展示渠道，用于显示当前支持的服务列表、会话状态和操作摘要；核心操作完全依赖语音交互。
- **服务开发者与管理员页面（纯屏幕交互）：**  
  - 开发者页面用于提交对接调用文档（Markdown格式）及API参数配置，后端审核后将纳入服务列表。
  - 管理员页面用于用户管理、服务审核、任务日志查询与系统监控，操作均依赖传统屏幕交互。

## 二、技术栈

- **框架：** React  
- **UI组件库：**  
  - 普通用户页面建议采用 Material-UI 或 Ant Design 构建现代、响应式辅助界面。
  - 服务开发者与管理员页面建议采用 Ant Design Pro 或类似成熟的后台管理模板。
- **语音模块：**  
  - 利用浏览器内置 Web Speech API 实现语音录入（按钮触发）。
  - 集成 TTS（文本转语音）模块实现语音反馈，例如使用第三方 TTS 库（如 responsiveVoice 等）。
  - 可选使用 `react-speech-recognition` 以提升语音交互体验。


## 三、功能需求

### 1. 普通用户页面

- **语音录入与转换：**  
  - 用户点击录音按钮进行语音采集，并将语音通过 Web Speech API 转换为文字。  
  - 转换后的文字在页面上仅作为辅助提示，但操作确认和反馈依靠语音。

- **多轮语音确认：**  
  - 对于关键操作（例如区块链转账），系统先将操作摘要通过语音反馈给用户，要求用户说出“确认”或“取消”。
  - 前端捕获用户的语音确认结果，并将确认状态与其他必要数据发送后端，作为后续操作依据。

- **辅助展示：**  
  - 页面以卡片或网格方式展示当前平台支持的核心服务列表（例如转账、查询等）。
  - 显示当前会话状态和操作摘要，方便用户复核。

### 2. 服务开发者页面

- **提交与配置：**  
  - 构建传统表单页面，支持开发者输入并上传：
    - 对接调用文档（Markdown格式）
    - API参数配置（包含接口endpoint、方法、参数及示例等）
  - 界面应支持版本管理、调试日志查看等操作，全程依赖鼠标与键盘输入。

### 3. 管理员页面

- **后台管理：**  
  - 提供用户管理、服务审核、任务与日志查询、系统监控等模块。
  - 采用成熟的后台管理模板（如 Ant Design Pro），以实现清晰的数据展现及便捷操作。

## 四、前后端对接要求与交互流程

- **接口调用：**  
  - 普通用户语音转写后的文本与语音确认结果，将通过 HTTPS 调用后端 RESTful API。
  - 普通用户交互流程为：语音上传（调用 `/api/voice/upload`） → （占位）意图解析 → 关键操作确认 → 调用（占位）MCP 服务接口。
  - 开发者与管理员页面则依托预定 API 提交数据及查询日志。

- **集成方式：**  
  - 前端需严格按照后端接口定义传递数据。对于占位部分（AI意图解析与 MCP 调用），先返回模拟数据，后续再根据研究结果替换具体实现。

## 五、测试与调试

- 开发过程中，请对语音录入、TTS反馈、按键触发的确认流程进行充分测试，确保语音交互流畅、准确。
- 普通用户页面需重点测试语音确认后数据传输的正确性；同时验证显示辅助信息的兼容性和响应式设计。
- 服务开发者与管理员页面应确保所有表单、文件上传、数据查询等功能与后端接口对接无误。

## 六、UI/UX 设计要求

### 1. 响应式设计
- **全屏适配：**
  - 采用 CSS Grid 和 Flexbox 布局，确保页面在不同设备上都能完美展示
  - 使用媒体查询（Media Queries）适配不同屏幕尺寸
  - 关键元素采用相对单位（rem、em、%）确保布局弹性

### 2. 主题设计
- **双主题模式：**
  - 实现亮色/暗色主题切换功能
  - 使用 CSS 变量定义主题色系，便于统一管理
  - 主题切换时添加平滑过渡动画

### 3. 视觉风格
- **现代简约：**
  - 采用扁平化设计，减少不必要的装饰元素
  - 合理使用留白，提升内容可读性
  - 字体选择：中文使用思源黑体，英文使用 SF Pro Display

### 4. 色彩系统
- **主色调：**
  - 主色：#007AFF（iOS 蓝）
  - 辅助色：#34C759（成功）、#FF3B30（警告）、#5856D6（强调）
  - 中性色：从 #000000 到 #FFFFFF 的 10 个灰度等级
- **色彩应用：**
  - 遵循 60-30-10 配色原则
  - 确保颜色对比度符合 WCAG 2.1 无障碍标准

### 5. 交互设计
- **动画效果：**
  - 使用 CSS transitions 和 animations 实现流畅过渡
  - 按钮点击、页面切换等操作添加微动效
  - 语音录制状态变化时使用优雅的动画反馈

### 6. 图标系统
- **统一图标：**
  - 使用 Material Icons 或 Phosphor Icons 图标库
  - 关键操作按钮必须配备图标
  - 图标大小统一，保持视觉一致性

### 7. 参考设计
- **设计灵感：**
  - 参考苹果官网的简约美学
  - 借鉴 iOS 系统的交互逻辑
  - 采用大字体、高对比度的设计语言

### 8. 实现建议
- **技术选型：**
  - 使用 styled-components 或 Tailwind CSS 管理样式
  - 采用 Framer Motion 实现复杂动画
  - 使用 React Context 管理主题状态



---

*请将此文档复制到前端开发团队的文档库中，以确保接下来的开发工作符合项目要求。*